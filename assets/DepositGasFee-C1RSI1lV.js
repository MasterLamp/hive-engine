import{K as B,x,s as D,r as u,G as C,P as b,H as G,I as A,o as v,a as c,w as p,b as l,g as M,f as o,t as a,k as T,v as q,L as N,_ as V,B as L,z as U}from"./index-CCPLilNe.js";const I={class:"mb-3"},O={class:"mb-3"},W={class:"mb-3"},$={class:"flex items-center"},z={class:"rounded-r-md border border-l-0 bg-gray-200 p-2 dark:border-gray-500 dark:bg-slate-600"},H=["disabled"],P={__name:"DepositGasFee",props:{selectedToken:{type:String,required:!0},network:{type:String,required:!0},evmFeeSymbol:{type:String,required:!0}},setup(t){const r=t,f=B(),y=x(),k=D(),i=u(!1),n=u(""),s=u(""),g=async()=>{i.value=!0;const d=await L.getBalance(y.username,r.evmFeeSymbol);n.value=d?Number(d.balance):0,i.value=!1},F=()=>{s.value="",n.value=0},S=async()=>{await k.requestDepositGasFee({amount:U(s.value,8),symbol:r.evmFeeSymbol,network:r.network})};return C(()=>{b.on("fee-deposit-successful",async()=>{await f.close("depositGasFeeModal")})}),G(()=>{b.off("fee-deposit-successful")}),(d,e)=>{const w=A("Loading");return v(),c(V,{"modal-id":"depositGasFeeModal",onBeforeOpen:g,onClose:F},{title:p(()=>e[2]||(e[2]=[l("Deposit Gas Fee")])),default:p(()=>[i.value?(v(),c(w,{key:0,small:""})):M("",!0),o("div",I,[e[3]||(e[3]=l(" In order to withdraw ")),o("strong",null,a(t.selectedToken),1),e[4]||(e[4]=l(" tokens, you must provide enough ")),o("strong",null,a(t.evmFeeSymbol),1),e[5]||(e[5]=l(" to cover the network gas fee. This reserved fee balance is non-refundable. "))]),e[8]||(e[8]=o("div",{class:"mb-3 font-bold"},"Fee deposits can take up to 5 minutes to reflect in balance.",-1)),o("div",O,[e[6]||(e[6]=o("label",{class:"mb-2 block font-bold"},"Available Balance",-1)),o("div",{class:"cursor-pointer",onClick:e[0]||(e[0]=m=>s.value=n.value)},a(n.value)+" "+a(t.evmFeeSymbol),1)]),o("div",W,[e[7]||(e[7]=o("label",{for:"depositAmount",class:"mb-2 block font-bold"},"Deposit Amount",-1)),o("div",$,[T(o("input",{id:"depositAmount","onUpdate:modelValue":e[1]||(e[1]=m=>s.value=m),type:"number",step:"any",class:"!rounded-r-none"},null,512),[[q,s.value]]),o("div",z,a(t.evmFeeSymbol),1)])]),o("button",{class:"btn",disabled:s.value<=0||s.value>n.value,onClick:N(S,["prevent"])}," Deposit Fee ",8,H)]),_:1})}}};export{P as default};
