import{c as b,o as v,a as C,w,b as L,t as q,f as y,_ as S,T as k}from"./index-CCPLilNe.js";var M={"":["<em>","</em>"],_:["<strong>","</strong>"],"*":["<strong>","</strong>"],"~":["<s>","</s>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};function x(n){return n.replace(RegExp("^"+(n.match(/^(\t| )+/)||"")[0],"gm"),"")}function g(n){return(n+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(n,i){var t,a,e,l,r,f=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm,o=[],u="",m=i||{},d=0;function _(s){var c=M[s[1]||""],p=o[o.length-1]==s;return c?c[1]?(p?o.pop():o.push(s),c[0|p]):c[0]:s}function $(){for(var s="";o.length;)s+=_(o[o.length-1]);return s}for(n=n.replace(/^\[(.+?)\]:\s*(.+)$/gm,function(s,c,p){return m[c.toLowerCase()]=p,""}).replace(/^\n+|\n+$/g,"");e=f.exec(n);)a=n.substring(d,e.index),d=f.lastIndex,t=e[0],a.match(/[^\\](\\\\)*\\$/)||((r=e[3]||e[4])?t='<pre class="code '+(e[4]?"poetry":e[2].toLowerCase())+'"><code'+(e[2]?' class="language-'+e[2].toLowerCase()+'"':"")+">"+x(g(r).replace(/^\n+|\n+$/g,""))+"</code></pre>":(r=e[6])?(r.match(/\./)&&(e[5]=e[5].replace(/^\d+/gm,"")),l=h(x(e[5].replace(/^\s*[>*+.-]/gm,""))),r==">"?r="blockquote":(r=r.match(/\./)?"ol":"ul",l=l.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),t="<"+r+">"+l+"</"+r+">"):e[8]?t='<img src="'+g(e[8])+'" alt="'+g(e[7])+'">':e[10]?(u=u.replace("<a>",'<a href="'+g(e[11]||m[a.toLowerCase()])+'">'),t=$()+"</a>"):e[9]?t="<a>":e[12]||e[14]?t="<"+(r="h"+(e[14]?e[14].length:e[13]>"="?1:2))+">"+h(e[12]||e[15],m)+"</"+r+">":e[16]?t="<code>"+g(e[16])+"</code>":(e[17]||e[1])&&(t=_(e[17]||"--"))),u+=a,u+=t;return(u+n.substring(d)+$()).replace(/^\n+|\n+$/g,"")}const T=["innerHTML"],N={__name:"Announcements",props:{id:{type:Number,required:!0},title:{type:String,required:!0},message:{type:String,required:!0}},setup(n){const i=n,t=b(()=>h(i.message)),a=()=>{k("announcements-shown",[]).value.push(i.id)};return(e,l)=>(v(),C(S,{"modal-id":"announcementsModal","click-to-close":!1,onClosed:a},{title:w(()=>[L(q(n.title),1)]),default:w(()=>[y("div",{innerHTML:t.value},null,8,T)]),_:1}))}};export{N as default};
