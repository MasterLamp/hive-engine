import{o as a,d as u,f as s,K as _,x as k,r as p,G as y,P as l,H as A,a as c,w as f,b as C,F as B,e as M,i as r,Q as $,L as w,t as S,j,k as K,R as L,v as U,_ as V}from"./index-CCPLilNe.js";function D(h,m){return a(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const F={class:"grid gap-3 sm:grid-cols-2 md:grid-cols-3"},H=["onClick"],N=["src"],T={class:"flex grow items-center justify-between space-x-1 text-sm font-bold"},z={class:"mt-5"},E={class:"flex items-center space-x-4"},G=["disabled"],P={__name:"Accounts",setup(h){const m=_(),o=k(),n=p(""),i=p(!1),v=async()=>{await o.addAccount(n.value)},g=async d=>{o.username=d,await m.close("accountsModal")},b=d=>{o.accounts=o.accounts.filter(t=>t!==d)};return y(()=>{l.on("add-account-awaiting",()=>{i.value=!0}),l.on("add-account-done",()=>{i.value=!1,n.value=""})}),A(()=>{l.off("add-account-awaiting"),l.off("add-account-done")}),(d,t)=>(a(),c(V,{"modal-id":"accountsModal"},{title:f(()=>t[2]||(t[2]=[C("Switch Account")])),default:f(()=>[s("div",F,[(a(!0),u(B,null,M(r(o).accounts,e=>(a(),u("div",{key:e,class:$(["group flex cursor-pointer items-center space-x-2 rounded-md border p-2 transition hover:bg-red-600 hover:text-white dark:border-gray-500",{"!cursor-not-allowed bg-red-600 text-white":r(o).username===e}]),onClick:w(x=>g(e),["stop"])},[s("img",{class:"block h-8 w-8 rounded-full border-2 bg-white",src:`https://images.hive.blog/u/${e}/avatar`},null,8,N),s("div",T,[s("div",null,S(e),1),r(o).username===e?(a(),c(r(D),{key:0,class:"h-5 w-5"})):(a(),c(r(j),{key:1,class:"h-5 w-5 rounded-full text-red-600 group-hover:bg-white",onClick:w(x=>b(e),["stop"])},null,8,["onClick"]))])],10,H))),128))]),s("div",z,[t[3]||(t[3]=s("label",{for:"rpc",class:"mb-1 block"},"Add Account",-1)),s("div",E,[K(s("input",{id:"rpc","onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),type:"text",placeholder:"Hive username",onInput:t[1]||(t[1]=e=>n.value=e.target.value.toLowerCase()),onKeyup:L(v,["enter"])},null,544),[[U,n.value,void 0,{trim:!0}]]),s("button",{class:"btn",disabled:i.value,onClick:v},"Add",8,G)])])]),_:1}))}};export{P as default};
