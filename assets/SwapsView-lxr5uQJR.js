import{U as v,r as m,x as A,c as _,A as k,V as I,o as u,d as p,W as T,a as D,f as c,b as l,h as g,w as n,t as a,Q as E,X as h,F as O,m as R,D as q,M as C,a1 as F,I as U}from"./index-CCPLilNe.js";import{_ as N}from"./CustomTable-ruclgATk.js";const V={key:1,class:"page-content"},P={__name:"SwapsView",setup(B){v({title:"Swaps"});const o=m(!0),r=A(),f=_(()=>r.username),w={1:"Init",2:"In progress",3:"Success",4:"Failed",7:"Expired"},x={Init:"bg-yellow-400 text-yellow-900","In progress":"bg-yellow-400 text-yellow-900",Success:"bg-green-400 text-green-900",Failed:"bg-red-400 text-red-900",Expired:"bg-gray-400 text-black-900"},d=m([]),S=[{key:"date",label:"DATE"},{key:"from",label:"FROM"},{key:"requested",label:"AMOUNT REQUESTED"},{key:"realized",label:"AMOUNT REALIZED"},{key:"status",label:"STATUS"}],y=s=>x[s],i=async()=>{try{let{data:s}=await R.get(`${q}/SwapRequest`,{params:{account:f.value,sourceId:C,limit:50}});s=s.map(e=>({date:F(new Date(e.CreatedAt),"Pp"),fromSymbol:e.TokenInput,fromAmount:e.TokenInputAmount,toSymbol:e.TokenOutput,amountRequested:e.TokenOutputAmount,actualAmount:e.TokenOutputAmountActual,status:w[e.SwapStatusId]})),d.value=s}catch{}};return k(()=>r.username,async()=>{r.isLoggedIn&&(o.value=!0,await i(),o.value=!1)}),I(async()=>{o.value=!0,await i(),o.value=!1}),(s,e)=>{const b=U("Loading");return u(),p(O,null,[e[1]||(e[1]=T('<div class="page-header"><div class="mx-auto w-full max-w-7xl px-2 text-gray-200 sm:px-6 lg:px-8"><div class="grid min-h-[160px] items-center text-center md:grid-cols-4 md:text-left"><div class="col-span-full mt-3 md:col-span-3"><h1 class="text-4xl uppercase">Swaps</h1></div></div></div></div>',1)),o.value?(u(),D(b,{key:0})):(u(),p("div",V,[e[0]||(e[0]=c("div",{class:"alert-warning"},[l(" For swap request details containing transactions, please go to "),c("a",{href:"https://dswap.trade",target:"_blank",class:"font-bold"},"DSwap website"),l(". ")],-1)),g(N,{fields:S,items:d.value},{"cell(from)":n(({item:t})=>[l(a(t.fromAmount)+" "+a(t.fromSymbol),1)]),"cell(requested)":n(({item:t})=>[l(a(t.amountRequested)+" "+a(t.toSymbol),1)]),"cell(realized)":n(({item:t})=>[l(a(t.actualAmount)+" "+a(t.toSymbol),1)]),"cell(status)":n(({item:t})=>[c("span",{class:E([y(t.status),"px-2 py-1 text-sm font-bold"])},a(t.status),3)]),_:1},8,["items"])])),g(h)],64)}}};export{P as default};
