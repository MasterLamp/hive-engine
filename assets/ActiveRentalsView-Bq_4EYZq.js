import{U as y,K as h,r as k,b4 as w,x as C,V as $,d as i,f as t,t as a,i as s,g as m,h as o,a as S,w as c,F as I,a0 as L,o as r,Q as R,k as p,b5 as B,b6 as V,b7 as A,b as N,I as D,b3 as E}from"./index-CCPLilNe.js";import{r as F,_ as M,a as U,b as W}from"./Wallet-Bq6vLbJ8.js";import{_ as j,a as z,b as H}from"./Rarity-Dqv2Rtpn.js";import{_ as K}from"./CustomTable-ruclgATk.js";import"./LoadingOverlay-CxOz52n3.js";const O={class:"page-header"},P={class:"mx-auto w-full max-w-7xl px-2 text-gray-200 sm:px-6 lg:px-8"},Q={class:"grid min-h-[120px] items-center text-center md:grid-cols-4 md:text-left"},T={class:"col-span-full mt-3 md:col-span-2"},X={class:"text-4xl uppercase"},q={class:"col-span-full mt-3 md:col-span-2"},G={class:"flex flex-wrap items-center justify-end gap-4"},J={class:"absolute -right-1 -top-2 rounded-full bg-white p-1 text-center text-lg leading-4 text-red-600"},Y={key:1,class:"page-content pt-3"},Z={class:"text-xs"},ee={class:"mt-1 flex flex-wrap items-center gap-2"},te={class:"text-xs"},ie={__name:"ActiveRentalsView",setup(se){y({title:"Active Rentals"});const _=h(),d=k(!0),g=L(),l=w(),f=C(),v=[{key:"name",label:"Card"},{key:"level",label:"Level",sortable:!0},{key:"bcx",label:"BCX",sortable:!0},{key:"seller",label:"Owner"},{key:"price",label:"Payment",sortable:!0},{key:"remaining",label:"Remaining"},{key:"actions",label:""}];return $(async()=>{d.value=!0,await l.attemptAutologin(),await l.fetchActiveRentals(g.params.account),d.value=!1}),(x,n)=>{const b=D("Loading"),u=E("tooltip");return r(),i(I,null,[t("div",O,[t("div",P,[t("div",Q,[t("div",T,[t("h1",X,"@"+a(x.$route.params.account)+"'s Rentals",1)]),t("div",q,[t("div",G,[s(f).isLoggedIn&&!s(l).isLoggedIn?(r(),i("button",{key:0,class:"btn",onClick:n[0]||(n[0]=(...e)=>s(l).logIntoSplinterlands&&s(l).logIntoSplinterlands(...e))}," Log Into Splinterlands ")):m("",!0),s(l).isLoggedIn?(r(),i("button",{key:1,class:"btn self-stretch",onClick:n[1]||(n[1]=e=>s(_).open("heslWalletModal"))}," Wallet ")):m("",!0),t("button",{class:"btn-sm relative self-stretch",onClick:n[2]||(n[2]=e=>s(_).open("cartModal"))},[t("div",J,a(s(l).cart.length),1),o(s(F),{class:"h-7 w-7"})])])])])])]),d.value?(r(),S(b,{key:0})):(r(),i("div",Y,[o(K,{items:s(l).active_rentals,fields:v},{"cell(name)":c(({item:e})=>[t("div",{class:R({"text-yellow-500":e.gold})},a(e.name),3),t("div",Z,a(e.uid),1),t("div",ee,[p(o(j,{edition:e.edition,class:"h-7 w-7 cursor-pointer p-0.5"},null,8,["edition"]),[[u,s(B)(e.edition)]]),p(o(z,{color:e.color,class:"h-7 w-7 cursor-pointer p-0.5"},null,8,["color"]),[[u,s(V)(e.color)]]),p(o(H,{rarity:e.rarity,class:"h-7 w-7 cursor-pointer p-0.5"},null,8,["rarity"]),[[u,s(A)(e.rarity)]])])]),"cell(price)":c(({item:e})=>[t("div",null,a(e.escrow_amount)+" "+a(e.currency),1),t("div",te,a(e.price)+" "+a(e.currency)+"/day",1)]),"cell(remaining)":c(({item:e})=>[N(a(e.remaining),1)]),"cell(actions)":c(({item:e})=>[o(M,{card:e},null,8,["card"])]),_:1},8,["items"])])),o(U),o(W)],64)}}};export{ie as default};
