import{o as c,d as v,f as o,b_ as z,r as i,c as m,L as x,t as S,h as E,i as F,F as L,e as R,Q as y}from"./index-CCPLilNe.js";function $(t,n){return c(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})])}const N=(t,n)=>{const l=t.__vccOpts||t;for(const[u,s]of n)l[u]=s;return l},T=["value","disabled"],q={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},A=["onClick"],D={__name:"SearchSelect",props:{options:{type:Array,required:!0},modelValue:{type:[String,Object],default:null},placeholder:{type:String,default:""},classes:{type:String,default:""},menuClass:{type:String,default:""},optionClass:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:n}){const l=t,u=n,{options:s,modelValue:p,placeholder:_}=z(l),a=i(""),f=i(!1),b=i(!1),g=i(null),C=e=>new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),M=m(()=>{if(a.value){const e=C(a.value);return s.value.filter(r=>e.test(r.text))}return s.value}),h=m(()=>s.value.find(e=>e.value===p.value)),V=m(()=>{if(a.value)return"";{let e=_.value;return h.value&&(e=h.value.text),e}}),w=()=>{l.disabled||(g.value.focus(),f.value=!0,b.value=!1)},k=()=>{f.value=!1},B=()=>{b.value||(a.value="",k())},I=e=>{a.value="",k(),typeof p.value=="object"&&p.value?u("update:modelValue",e):(u("update:modelValue",e.value),e.value===e.text&&(a.value=e.value)),g.value.blur()},O=()=>{b.value=!0};return(e,r)=>(c(),v("div",{class:y(["relative border border-gray-500 bg-white text-gray-700 dark:border-gray-500 dark:bg-slate-600 dark:text-gray-300",t.classes])},[o("input",{ref_key:"input",ref:g,type:"text",autocomplete:"off",class:"input top-0 z-10 w-full border-0 bg-transparent px-3 py-2 focus:ring-0",value:a.value,disabled:t.disabled,onInput:r[0]||(r[0]=d=>a.value=d.target.value),onFocus:x(w,["prevent"]),onBlur:B},null,40,T),o("div",{class:"text absolute left-1 top-0 cursor-text p-2",onClick:w},S(V.value),1),o("span",q,[E(F($),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),o("div",{class:y([f.value?"block":"hidden","absolute top-full z-50 max-h-60 min-w-full overflow-y-auto overflow-x-hidden border-b border-l border-r border-gray-400 bg-white dark:border-gray-500 dark:bg-slate-600",t.menuClass]),onMousedown:r[1]||(r[1]=x(()=>{},["prevent"]))},[(c(!0),v(L,null,R(M.value,(d,j)=>(c(),v("div",{key:j,class:y(["cursor-pointer border-t border-gray-400 p-2 hover:bg-[rgba(0,0,0,.05)] dark:border-gray-500",t.optionClass]),onClick:x(Q=>I(d),["stop"]),onMousedown:O},S(d.text),43,A))),128))],34)],2))}},H=N(D,[["__scopeId","data-v-e9fe16eb"]]);export{H as S};
